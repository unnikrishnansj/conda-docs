

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Troubleshooting &mdash; Conda   documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="Conda   documentation" href="index.html"/>
        <link rel="up" title="Help &amp; reference" href="help/help.html"/>
        <link rel="next" title="Support options" href="help/support.html"/>
        <link rel="prev" title="Windows XP with proxy configuration" href="winxp-proxy.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Conda
          

          
          </a>

          
            
            
              <div class="version">
                 
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get-started.html">Get started</a></li>
<li class="toctree-l1"><a class="reference internal" href="using/index.html">Using conda</a></li>
<li class="toctree-l1"><a class="reference internal" href="building/build.html">Building packages</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="help/help.html">Help &amp; reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="using/cheatsheet.html">Conda cheat sheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l2"><a class="reference internal" href="commands.html">Command reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Troubleshooting</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#issue-permission-denied-errors-during-install">Issue:  permission denied errors during install</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#resolution-set-less-restrictive-umask-before-calling-conda-commands">Resolution:  set less restrictive umask before calling conda commands.</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#issue-conda-claims-that-a-package-is-installed-but-it-appears-not-to-be">Issue: Conda claims that a package is installed, but it appears not to be.</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#resolution-make-sure-you-are-in-the-right-conda-environment">Resolution: Make sure you are in the right conda environment.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resolution-for-python-packages-make-sure-you-do-not-have-pythonpath-or-pythonhome-set">Resolution: For Python packages, make sure you do not have <code class="docutils literal"><span class="pre">PYTHONPATH</span></code> or <code class="docutils literal"><span class="pre">PYTHONHOME</span></code> set.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resolution-for-python-packages-remove-any-site-specific-directories">Resolution: For Python packages, remove any site-specific directories.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resolution-for-c-libraries-unset-the-environment-variables-ld-library-path-on-linux-and-dyld-library-path-on-os-x">Resolution: For C libraries, unset the environment variables <code class="docutils literal"><span class="pre">LD_LIBRARY_PATH</span></code> on Linux and <code class="docutils literal"><span class="pre">DYLD_LIBRARY_PATH</span></code> on OS X.</a></li>
<li class="toctree-l4"><a class="reference internal" href="#resolution-occasionally-an-installed-package-will-become-corrupted">Resolution: Occasionally, an installed package will become corrupted.</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#issue-pkg-resources-distributionnotfound-conda-3-6-1-6-gb31b0d4-dirty">Issue: pkg_resources.DistributionNotFound: conda==3.6.1-6-gb31b0d4-dirty</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#resolution-force-reinstall-conda">Resolution: Force reinstall conda</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#issue-valueerror-unknown-locale-utf-8-on-os-x">Issue: <code class="docutils literal"><span class="pre">ValueError</span> <span class="pre">unknown</span> <span class="pre">locale:</span> <span class="pre">UTF-8</span></code> on OS X</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#resolution-uncheck-set-locale-environment-variables-on-startup-setting-in-terminal-settings">Resolution: Uncheck &#8220;set locale environment variables on startup&#8221; setting in Terminal settings</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#issue-attributeerror-or-missing-getproxies">Issue: <code class="docutils literal"><span class="pre">AttributeError</span></code> or missing <code class="docutils literal"><span class="pre">getproxies</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="#resolution-update-requests-and-be-sure-pythonpath-is-not-set">Resolution: Update <code class="docutils literal"><span class="pre">requests</span></code> and be sure <code class="docutils literal"><span class="pre">PYTHONPATH</span></code> is not set.</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#issue-shell-commands-open-from-wrong-location">Issue:  Shell commands open from wrong location</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#resolution-reactivate-the-environment-or-run-hash-r-in-bash-or-rehash-in-zsh">Resolution:  Reactivate the environment or run <code class="docutils literal"><span class="pre">hash</span> <span class="pre">-r</span></code> (in bash) or <code class="docutils literal"><span class="pre">rehash</span></code> (in zsh)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#issue-programs-fail-due-to-invoking-conda-python-and-not-system-python">Issue:  Programs fail due to invoking conda Python and not system Python</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#resolution-fix-the-path-environment-variable">Resolution: Fix the <code class="docutils literal"><span class="pre">PATH</span></code> environment variable</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#issue-unsatisfiablespecifications-error">Issue: <code class="docutils literal"><span class="pre">UnsatisfiableSpecifications</span></code> error</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#resolution-fix-the-conflicts-in-the-installation-request">Resolution: Fix the conflicts in the installation request</a></li>
<li class="toctree-l4"><a class="reference internal" href="#issue-install-a-specific-version-from-channels">Issue: install a specific version from channels</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="help/support.html">Support options</a></li>
<li class="toctree-l2"><a class="reference internal" href="changelog.html">Conda changelog</a></li>
<li class="toctree-l2"><a class="reference internal" href="license.html">Conda license</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="get-involved.html">Get involved</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Conda</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="help/help.html">Help &amp; reference</a> &raquo;</li>
      
    <li>Troubleshooting</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="https://github.com/conda/conda-docs/blob/master/docs/source/troubleshooting.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="troubleshooting">
<h1>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h1>
<p>Table of contents:</p>
<ol class="arabic simple">
<li><a class="reference internal" href="#permission-denied"><span class="std std-ref">Issue:  permission denied errors during install</span></a></li>
<li><a class="reference internal" href="#conda-claims-installed"><span class="std std-ref">Issue: Conda claims that a package is installed, but it appears not to be.</span></a></li>
<li><a class="reference internal" href="#distributionnotfound"><span class="std std-ref">Issue: pkg_resources.DistributionNotFound: conda==3.6.1-6-gb31b0d4-dirty</span></a></li>
<li><a class="reference internal" href="#unknown-locale"><span class="std std-ref">Issue: ValueError unknown locale: UTF-8 on OS X</span></a></li>
<li><a class="reference internal" href="#attributeerror-getproxies"><span class="std std-ref">Issue: AttributeError or missing getproxies</span></a></li>
<li><a class="reference internal" href="#shell-command-location"><span class="std std-ref">Issue:  Shell commands open from wrong location</span></a></li>
<li><a class="reference internal" href="#wrong-python"><span class="std std-ref">Issue:  Programs fail due to invoking conda Python and not system Python</span></a></li>
<li><a class="reference internal" href="#unsatisfiable"><span class="std std-ref">Issue: UnsatisfiableSpecifications error</span></a></li>
<li><a class="reference internal" href="#version-from-channel"><span class="std std-ref">Issue: install a specific version from channels</span></a></li>
</ol>
<div class="section" id="issue-permission-denied-errors-during-install">
<span id="permission-denied"></span><h2>Issue:  permission denied errors during install<a class="headerlink" href="#issue-permission-denied-errors-during-install" title="Permalink to this headline">¶</a></h2>
<p>umask is a command that determines the mask settings that control how file permissions are set for newly created files. If you have a very restrictive umask (such as 077), you will see &#8220;permission denied&#8221; errors.</p>
<div class="section" id="resolution-set-less-restrictive-umask-before-calling-conda-commands">
<h3>Resolution:  set less restrictive umask before calling conda commands.<a class="headerlink" href="#resolution-set-less-restrictive-umask-before-calling-conda-commands" title="Permalink to this headline">¶</a></h3>
<p>Conda was intended as a user space tool, but often users need to use it in a global environment. One place this can go awry is with restrictive file permissions.  Conda creates links when you install files that have to be read by others on the system.</p>
<p>To give yourself full permissions for files and directories, but prevent the group and other users from having access, before installing set the umask to 007, install conda, then return the umask to the original setting afterwards:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre><span></span>$ <span class="nb">umask</span> 007
$ conda install
$ <span class="nb">umask</span> 077
</pre></div>
</div>
</div></blockquote>
<p>For more information on umask, please visit <a class="reference external" href="http://en.wikipedia.org/wiki/Umask">http://en.wikipedia.org/wiki/Umask</a>.</p>
</div>
</div>
<div class="section" id="issue-conda-claims-that-a-package-is-installed-but-it-appears-not-to-be">
<span id="conda-claims-installed"></span><h2>Issue: Conda claims that a package is installed, but it appears not to be.<a class="headerlink" href="#issue-conda-claims-that-a-package-is-installed-but-it-appears-not-to-be" title="Permalink to this headline">¶</a></h2>
<p>Sometimes conda will claim that a package is already installed, but it will
not appear to be, e.g., a Python package that gives ImportError.</p>
<p>There are a few possible causes of this issue:</p>
<div class="section" id="resolution-make-sure-you-are-in-the-right-conda-environment">
<h3>Resolution: Make sure you are in the right conda environment.<a class="headerlink" href="#resolution-make-sure-you-are-in-the-right-conda-environment" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">conda</span> <span class="pre">info</span></code> will tell you what environment is currently active (under
&#8220;default environment&#8221;). You can verify that you are using the Python from the
correct environment by running</p>
<div class="code python highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">prefix</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="resolution-for-python-packages-make-sure-you-do-not-have-pythonpath-or-pythonhome-set">
<h3>Resolution: For Python packages, make sure you do not have <code class="docutils literal"><span class="pre">PYTHONPATH</span></code> or <code class="docutils literal"><span class="pre">PYTHONHOME</span></code> set.<a class="headerlink" href="#resolution-for-python-packages-make-sure-you-do-not-have-pythonpath-or-pythonhome-set" title="Permalink to this headline">¶</a></h3>
<p>The command <code class="docutils literal"><span class="pre">conda</span> <span class="pre">info</span> <span class="pre">-a</span></code> will show you the values of these environment
variables.</p>
<p>These environment variables cause Python to load files from locations other
than the standard ones. Conda works best when these environment variables are
not set, as their typical use-cases are obviated by Conda environments, and a
common issue is that they will cause Python to pick up the wrong versions or
broken versions of a library.</p>
<p>To unset them temporarily for the current terminal session, run <code class="docutils literal"><span class="pre">unset</span>
<span class="pre">PYTHONPATH</span></code>. To unset them permanently, check for lines in the files
<code class="docutils literal"><span class="pre">~/.bashrc</span></code>, <code class="docutils literal"><span class="pre">~/.bash_profile</span></code>, <code class="docutils literal"><span class="pre">~/.profile</span></code> if you use bash,
<code class="docutils literal"><span class="pre">~/.zshrc</span></code> if you use zsh, or the file output by <code class="docutils literal"><span class="pre">$PROFILE</span></code> if you use
PowerShell on Windows.</p>
</div>
<div class="section" id="resolution-for-python-packages-remove-any-site-specific-directories">
<h3>Resolution: For Python packages, remove any site-specific directories.<a class="headerlink" href="#resolution-for-python-packages-remove-any-site-specific-directories" title="Permalink to this headline">¶</a></h3>
<p>Another possibility for Python are so-called site-specific files. These
typically live in <code class="docutils literal"><span class="pre">~/.local</span></code> on Unix. The full description of where
site-specific packages can be found is in <a class="reference external" href="http://legacy.python.org/dev/peps/pep-0370/">PEP 370</a>. As with <code class="docutils literal"><span class="pre">PYTHONPATH</span></code>,
Python may try importing packages from this directory, which can cause
issues. The recommended fix is to remove the site-specific directory.</p>
</div>
<div class="section" id="resolution-for-c-libraries-unset-the-environment-variables-ld-library-path-on-linux-and-dyld-library-path-on-os-x">
<h3>Resolution: For C libraries, unset the environment variables <code class="docutils literal"><span class="pre">LD_LIBRARY_PATH</span></code> on Linux and <code class="docutils literal"><span class="pre">DYLD_LIBRARY_PATH</span></code> on OS X.<a class="headerlink" href="#resolution-for-c-libraries-unset-the-environment-variables-ld-library-path-on-linux-and-dyld-library-path-on-os-x" title="Permalink to this headline">¶</a></h3>
<p>These act similarly to <code class="docutils literal"><span class="pre">PYTHONPATH</span></code> for Python. If they are set, they can
cause libraries to be loaded from locations other than the Conda
environment. Again, Conda environments obviate most use-cases for these
variables, so it is recommended to unset them if they are set, unless you know
what you are doing. <code class="docutils literal"><span class="pre">conda</span> <span class="pre">info</span> <span class="pre">-a</span></code> will show what these are set to (on the
relevant operating system).</p>
</div>
<div class="section" id="resolution-occasionally-an-installed-package-will-become-corrupted">
<h3>Resolution: Occasionally, an installed package will become corrupted.<a class="headerlink" href="#resolution-occasionally-an-installed-package-will-become-corrupted" title="Permalink to this headline">¶</a></h3>
<p>Conda works by unpacking the packages in the pkgs directory and then hard
linking them to the environment. Sometimes these get corrupted somehow,
breaking all environments that use them, and also any additional environments,
since the same files are hard linked each time.</p>
<p><strong>conda install -f will unarchive the package again and re-link it.</strong> It also
does a md5 verification on the package (usually if this is different, it&#8217;s
because your channels have changed and there is a different package with the
same name, version, and build number). Note that this breaks the links to any
other environments that already had this package installed, so you&#8217;ll have to
reinstall it there too. It also means that running <code class="docutils literal"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-f</span></code> a lot
can use up a lot of disk space if you have a lot of environments.  Note that
the <code class="docutils literal"><span class="pre">-f</span></code> flag to <code class="docutils literal"><span class="pre">conda</span> <span class="pre">install</span></code> (<code class="docutils literal"><span class="pre">--force</span></code>) implies <code class="docutils literal"><span class="pre">--no-deps</span></code>, so
<code class="docutils literal"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-f</span> <span class="pre">package</span></code> will not reinstall any of the dependencies of
<code class="docutils literal"><span class="pre">package</span></code>.</p>
</div>
</div>
<div class="section" id="issue-pkg-resources-distributionnotfound-conda-3-6-1-6-gb31b0d4-dirty">
<span id="distributionnotfound"></span><h2>Issue: pkg_resources.DistributionNotFound: conda==3.6.1-6-gb31b0d4-dirty<a class="headerlink" href="#issue-pkg-resources-distributionnotfound-conda-3-6-1-6-gb31b0d4-dirty" title="Permalink to this headline">¶</a></h2>
<div class="section" id="resolution-force-reinstall-conda">
<h3>Resolution: Force reinstall conda<a class="headerlink" href="#resolution-force-reinstall-conda" title="Permalink to this headline">¶</a></h3>
<p>A useful way to work off the development version of conda is to run <code class="docutils literal"><span class="pre">python</span>
<span class="pre">setup.py</span> <span class="pre">develop</span></code> on a checkout of the <a class="reference external" href="https://github.com/conda/conda">conda git repository</a>.  However, if you are not regularly
running <code class="docutils literal"><span class="pre">git</span> <span class="pre">pull</span></code>, it is a good idea to un-develop, as you will otherwise
not get any regular updates to conda.  The normal way to do this is to run
<code class="docutils literal"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span> <span class="pre">-u</span></code>.</p>
<p>However, this command does not replace the <code class="docutils literal"><span class="pre">conda</span></code> script itself. With other
packages, this is not an issue, as you can just reinstall them with <code class="docutils literal"><span class="pre">conda</span></code>,
but conda cannot be used if conda is installed.</p>
<p>The fix is to use the <code class="docutils literal"><span class="pre">./bin/conda</span></code> executable in the conda git repository
to force reinstall conda, i.e., run <code class="docutils literal"><span class="pre">./bin/conda</span> <span class="pre">install</span> <span class="pre">-f</span> <span class="pre">conda</span></code>.  You can
then verify with <code class="docutils literal"><span class="pre">conda</span> <span class="pre">info</span></code> that you have the latest version of conda, and
not a git checkout (the version should not include any hashes).</p>
</div>
</div>
<div class="section" id="issue-valueerror-unknown-locale-utf-8-on-os-x">
<span id="unknown-locale"></span><h2>Issue: <code class="docutils literal"><span class="pre">ValueError</span> <span class="pre">unknown</span> <span class="pre">locale:</span> <span class="pre">UTF-8</span></code> on OS X<a class="headerlink" href="#issue-valueerror-unknown-locale-utf-8-on-os-x" title="Permalink to this headline">¶</a></h2>
<div class="section" id="resolution-uncheck-set-locale-environment-variables-on-startup-setting-in-terminal-settings">
<h3>Resolution: Uncheck &#8220;set locale environment variables on startup&#8221; setting in Terminal settings<a class="headerlink" href="#resolution-uncheck-set-locale-environment-variables-on-startup-setting-in-terminal-settings" title="Permalink to this headline">¶</a></h3>
<p>This is a bug in the OS X Terminal app that only shows up in certain locales
(country/language combinations). Open Terminal in /Applications/Utilities and
uncheck the box &#8220;Set locale environment variables on startup&#8221;.</p>
<img alt="_images/locale.jpg" src="_images/locale.jpg" />
<p>This will set your <code class="docutils literal"><span class="pre">LANG</span></code> environment variable to be empty. This may cause
terminal use to incorrect settings for your locale. The <code class="docutils literal"><span class="pre">locale</span></code> command in
the Terminal will tell you what settings are used.  To use the correct
language, add a line to your bash profile (typically <code class="docutils literal"><span class="pre">~/.profile</span></code>)</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">LANG</span><span class="o">=</span>your-lang
</pre></div>
</div>
<p>Replace <code class="docutils literal"><span class="pre">your-lang</span></code> with the correct locale specifier for your language. The
command <code class="docutils literal"><span class="pre">locale</span> <span class="pre">-a</span></code> will show you all the specifiers. For example, the
language code for US English is <code class="docutils literal"><span class="pre">en_US.UTF-8</span></code>. The locale affects what
translations are used when they are available, and also how dates,
currencies, and decimals are formatted.</p>
</div>
</div>
<div class="section" id="issue-attributeerror-or-missing-getproxies">
<span id="attributeerror-getproxies"></span><h2>Issue: <code class="docutils literal"><span class="pre">AttributeError</span></code> or missing <code class="docutils literal"><span class="pre">getproxies</span></code><a class="headerlink" href="#issue-attributeerror-or-missing-getproxies" title="Permalink to this headline">¶</a></h2>
<p>When running a command such as <code class="docutils literal"><span class="pre">conda</span> <span class="pre">update</span> <span class="pre">ipython</span></code>, you may get an
<code class="docutils literal"><span class="pre">AttributeError:</span> <span class="pre">'module'</span> <span class="pre">object</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">attribute</span> <span class="pre">'getproxies'</span></code>.</p>
<div class="section" id="resolution-update-requests-and-be-sure-pythonpath-is-not-set">
<h3>Resolution: Update <code class="docutils literal"><span class="pre">requests</span></code> and be sure <code class="docutils literal"><span class="pre">PYTHONPATH</span></code> is not set.<a class="headerlink" href="#resolution-update-requests-and-be-sure-pythonpath-is-not-set" title="Permalink to this headline">¶</a></h3>
<p>This can be caused by an old version of <code class="docutils literal"><span class="pre">requests</span></code>, or by having the <code class="docutils literal"><span class="pre">PYTHONPATH</span></code>
environment variable set.</p>
<p><code class="docutils literal"><span class="pre">conda</span> <span class="pre">info</span> <span class="pre">-a</span></code> will show the <code class="docutils literal"><span class="pre">requests</span></code> version and various environment
variables such as <code class="docutils literal"><span class="pre">PYTHONPATH</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">requests</span></code> version can be updated with <code class="docutils literal"><span class="pre">pip</span> <span class="pre">install</span> <span class="pre">-U</span> <span class="pre">requests</span></code>.</p>
<p>On Windows <code class="docutils literal"><span class="pre">PYTHONPATH</span></code> can be cleared in the environment variable settings.
On OS X and Linux it can typically be cleared by removing it from the bash
profile and restarting the shell.</p>
</div>
</div>
<div class="section" id="issue-shell-commands-open-from-wrong-location">
<span id="shell-command-location"></span><h2>Issue:  Shell commands open from wrong location<a class="headerlink" href="#issue-shell-commands-open-from-wrong-location" title="Permalink to this headline">¶</a></h2>
<p>When I run a command within a conda environment, conda does not access the correct package executable.</p>
<div class="section" id="resolution-reactivate-the-environment-or-run-hash-r-in-bash-or-rehash-in-zsh">
<h3>Resolution:  Reactivate the environment or run <code class="docutils literal"><span class="pre">hash</span> <span class="pre">-r</span></code> (in bash) or <code class="docutils literal"><span class="pre">rehash</span></code> (in zsh)<a class="headerlink" href="#resolution-reactivate-the-environment-or-run-hash-r-in-bash-or-rehash-in-zsh" title="Permalink to this headline">¶</a></h3>
<p>The way both bash and zsh work is that when you enter a command, the shell
searches the paths in <code class="docutils literal"><span class="pre">PATH</span></code> one by one until it finds the command. The shell
then caches the location (this is called &#8220;hashing&#8221; in shell terminology), so that
when you type the command again, the shell doesn&#8217;t have to search the <code class="docutils literal"><span class="pre">PATH</span></code>
again.</p>
<p>The problem is that before you conda installed the program, you ran the command
which loaded and hashed the one in some other location on the <code class="docutils literal"><span class="pre">PATH</span></code> (such as
<code class="docutils literal"><span class="pre">/usr/bin</span></code>). Then you installed the program using <code class="docutils literal"><span class="pre">conda</span> <span class="pre">install</span></code>, but the
shell still had the old instance hashed.</p>
<p>When you run <code class="docutils literal"><span class="pre">source</span> <span class="pre">activate</span></code>, conda automatically runs <code class="docutils literal"><span class="pre">hash</span> <span class="pre">-r</span></code> in bash and
<code class="docutils literal"><span class="pre">rehash</span></code> in zsh to clear the hashed commands, so conda will find things in the
new path on the <code class="docutils literal"><span class="pre">PATH</span></code>. But there is no way to do this when <code class="docutils literal"><span class="pre">conda</span> <span class="pre">install</span></code>
is run (the command must be run inside the shell itself, meaning either you
have to type the command yourself or source a file that contains the command).</p>
<p>This is a relatively rare problem, since this will only happen if you activate
an environment or use the root environment, run a command from somewhere else,
then conda install a program and try to run the program again without running <code class="docutils literal"><span class="pre">source</span>
<span class="pre">activate</span></code> or <code class="docutils literal"><span class="pre">source</span> <span class="pre">deactivate</span></code>.</p>
<p>The command <code class="docutils literal"><span class="pre">type</span> <span class="pre">command_name</span></code> will always tell you exactly what is being
run (this is better than <code class="docutils literal"><span class="pre">which</span> <span class="pre">command_name</span></code>, which ignores hashed commands
and searches the <code class="docutils literal"><span class="pre">PATH</span></code> directly), and <code class="docutils literal"><span class="pre">hash</span> <span class="pre">-r</span></code> (in bash) or <code class="docutils literal"><span class="pre">rehash</span></code>
(in zsh) will reset the hash, or you can run <code class="docutils literal"><span class="pre">source</span> <span class="pre">activate</span></code>.</p>
</div>
</div>
<div class="section" id="issue-programs-fail-due-to-invoking-conda-python-and-not-system-python">
<span id="wrong-python"></span><h2>Issue:  Programs fail due to invoking conda Python and not system Python<a class="headerlink" href="#issue-programs-fail-due-to-invoking-conda-python-and-not-system-python" title="Permalink to this headline">¶</a></h2>
<p>After installing Anaconda or miniconda, programs that run <code class="docutils literal"><span class="pre">python</span></code> will switch
from invoking the system Python to invoking the Python in the root conda
environment. If these programs rely on the system Python to have certain
configurations or dependencies that are not in the root conda environment
Python, the programs may crash. For example, some users of the Cinnamon desktop
environment on Linux Mint have reported these crashes.</p>
<div class="section" id="resolution-fix-the-path-environment-variable">
<h3>Resolution: Fix the <code class="docutils literal"><span class="pre">PATH</span></code> environment variable<a class="headerlink" href="#resolution-fix-the-path-environment-variable" title="Permalink to this headline">¶</a></h3>
<p>Edit your <code class="docutils literal"><span class="pre">.bash_profile</span></code> and <code class="docutils literal"><span class="pre">.bashrc</span></code> files so that the conda binary
directory (such as <code class="docutils literal"><span class="pre">~/miniconda3/bin</span></code>) is no longer added to the <code class="docutils literal"><span class="pre">PATH</span></code>
environment variable. <code class="docutils literal"><span class="pre">conda</span></code> <code class="docutils literal"><span class="pre">activate</span></code> and <code class="docutils literal"><span class="pre">deactivate</span></code> may still be run
by using their full path names such as <code class="docutils literal"><span class="pre">~/miniconda3/bin/conda</span></code>.</p>
<p>You may also create a folder with symbolic links to <code class="docutils literal"><span class="pre">conda</span></code> <code class="docutils literal"><span class="pre">activate</span></code> and
<code class="docutils literal"><span class="pre">deactivate</span></code>, and edit your <code class="docutils literal"><span class="pre">.bash_profile</span></code> or <code class="docutils literal"><span class="pre">.bashrc</span></code> file to add this
folder to your <code class="docutils literal"><span class="pre">PATH</span></code>. Then running <code class="docutils literal"><span class="pre">python</span></code> will invoke the system Python,
but running <code class="docutils literal"><span class="pre">conda</span></code> commands, <code class="docutils literal"><span class="pre">source</span> <span class="pre">activate</span> <span class="pre">MyEnv</span></code>, <code class="docutils literal"><span class="pre">source</span> <span class="pre">activate</span> <span class="pre">root</span></code>,
or <code class="docutils literal"><span class="pre">source</span> <span class="pre">deactivate</span></code> will work normally.</p>
<p>After running <code class="docutils literal"><span class="pre">source</span> <span class="pre">activate</span></code> to activate any environment, including after
running <code class="docutils literal"><span class="pre">source</span> <span class="pre">activate</span> <span class="pre">root</span></code>, running <code class="docutils literal"><span class="pre">python</span></code> will invoke the Python in
the active conda environment.</p>
</div>
</div>
<div class="section" id="issue-unsatisfiablespecifications-error">
<span id="unsatisfiable"></span><h2>Issue: <code class="docutils literal"><span class="pre">UnsatisfiableSpecifications</span></code> error<a class="headerlink" href="#issue-unsatisfiablespecifications-error" title="Permalink to this headline">¶</a></h2>
<p>Not all conda package installation specifications are possible to satisfy.</p>
<p>For example, <code class="docutils literal"><span class="pre">conda</span> <span class="pre">create</span> <span class="pre">-n</span> <span class="pre">tmp</span> <span class="pre">python=3</span> <span class="pre">wxpython=3</span></code> produces an
Unsatisfiable Specifications error because wxPython 3 depends on Python 2.7, so
the specification to install Python 3 conflicts with the specification to
install wxPython 3.</p>
<div class="section" id="resolution-fix-the-conflicts-in-the-installation-request">
<h3>Resolution: Fix the conflicts in the installation request<a class="headerlink" href="#resolution-fix-the-conflicts-in-the-installation-request" title="Permalink to this headline">¶</a></h3>
<p>When an unsatisfiable request is made to conda, conda shows a message such as
this one:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">following</span> <span class="n">specifications</span> <span class="n">were</span> <span class="n">found</span> <span class="n">to</span> <span class="n">be</span> <span class="ow">in</span> <span class="n">conflict</span><span class="p">:</span>
<span class="o">-</span> <span class="n">python</span> <span class="mi">3</span><span class="o">*</span>
<span class="o">-</span> <span class="n">wxpython</span> <span class="mi">3</span><span class="o">*</span> <span class="o">-&gt;</span> <span class="n">python</span> <span class="mf">2.7</span><span class="o">*</span>
<span class="n">Use</span> <span class="s2">&quot;conda info &lt;package&gt;&quot;</span> <span class="n">to</span> <span class="n">see</span> <span class="n">the</span> <span class="n">dependencies</span> <span class="k">for</span> <span class="n">each</span> <span class="n">package</span><span class="o">.</span>
</pre></div>
</div>
<p>This indicates that the specification to install wxpython 3 depends on
installing Python 2.7, which conflicts with the specification to install python
3.</p>
<p>You can use &#8220;conda info wxpython&#8221; or &#8220;conda info wxpython=3&#8221; to show information
about this package and its dependencies:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">wxpython</span> <span class="mf">3.0</span> <span class="n">py27_0</span>
<span class="o">-------------------</span>
<span class="n">file</span> <span class="n">name</span>   <span class="p">:</span> <span class="n">wxpython</span><span class="o">-</span><span class="mf">3.0</span><span class="o">-</span><span class="n">py27_0</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">bz2</span>
<span class="n">name</span>        <span class="p">:</span> <span class="n">wxpython</span>
<span class="n">version</span>     <span class="p">:</span> <span class="mf">3.0</span>
<span class="n">build</span> <span class="n">number</span><span class="p">:</span> <span class="mi">0</span>
<span class="n">build</span> <span class="n">string</span><span class="p">:</span> <span class="n">py27_0</span>
<span class="n">channel</span>     <span class="p">:</span> <span class="n">defaults</span>
<span class="n">size</span>        <span class="p">:</span> <span class="mf">34.1</span> <span class="n">MB</span>
<span class="n">date</span>        <span class="p">:</span> <span class="mi">2014</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">10</span>
<span class="n">fn</span>          <span class="p">:</span> <span class="n">wxpython</span><span class="o">-</span><span class="mf">3.0</span><span class="o">-</span><span class="n">py27_0</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">bz2</span>
<span class="n">license_family</span><span class="p">:</span> <span class="n">Other</span>
<span class="n">md5</span>         <span class="p">:</span> <span class="n">adc6285edfd29a28224c410a39d4bdad</span>
<span class="n">priority</span>    <span class="p">:</span> <span class="mi">2</span>
<span class="n">schannel</span>    <span class="p">:</span> <span class="n">defaults</span>
<span class="n">url</span>         <span class="p">:</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">repo</span><span class="o">.</span><span class="n">continuum</span><span class="o">.</span><span class="n">io</span><span class="o">/</span><span class="n">pkgs</span><span class="o">/</span><span class="n">free</span><span class="o">/</span><span class="n">osx</span><span class="o">-</span><span class="mi">64</span><span class="o">/</span><span class="n">wxpython</span><span class="o">-</span><span class="mf">3.0</span><span class="o">-</span><span class="n">py27_0</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">bz2</span>
<span class="n">dependencies</span><span class="p">:</span>
    <span class="n">python</span> <span class="mf">2.7</span><span class="o">*</span>
    <span class="n">python</span><span class="o">.</span><span class="n">app</span>
</pre></div>
</div>
<p>By examining the dependencies of each package, you should be able to determine
why the installation request produced a conflict, and modify the request so it
can be satisfied without conflicts. In our example, we could install wxPython
with Python 2.7:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">create</span> <span class="o">-</span><span class="n">n</span> <span class="n">tmp</span> <span class="n">python</span><span class="o">=</span><span class="mf">2.7</span> <span class="n">wxpython</span><span class="o">=</span><span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="section" id="issue-install-a-specific-version-from-channels">
<span id="version-from-channel"></span><h3>Issue: install a specific version from channels<a class="headerlink" href="#issue-install-a-specific-version-from-channels" title="Permalink to this headline">¶</a></h3>
<p>Suppose you have a specific need to install the Python <code class="docutils literal"><span class="pre">cx_freeze</span></code> module
with Python 3.4.  A first step is to create a Python 3.4 environment:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">code</span><span class="o">-</span><span class="n">block</span><span class="p">::</span> <span class="n">bash</span>
</pre></div>
</div>
<blockquote>
<div>conda create -n py34 python=3.4</div></blockquote>
<p>Using this environment you should first attempt:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">..</span> <span class="n">code</span><span class="o">-</span><span class="n">block</span><span class="p">::</span> <span class="n">bash</span>
</pre></div>
</div>
<blockquote>
<div>conda install -n py34 cx_freeze</div></blockquote>
<p>However, when you do this you&#8217;ll get the following error (at the time this was written, on the platform used):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Using</span> <span class="n">Anaconda</span> <span class="n">Cloud</span> <span class="n">api</span> <span class="n">site</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">api</span><span class="o">.</span><span class="n">anaconda</span><span class="o">.</span><span class="n">org</span>
<span class="n">Fetching</span> <span class="n">package</span> <span class="n">metadata</span> <span class="o">.........</span>
<span class="n">Solving</span> <span class="n">package</span> <span class="n">specifications</span><span class="p">:</span> <span class="o">.</span>
<span class="n">Error</span><span class="p">:</span> <span class="n">Package</span> <span class="n">missing</span> <span class="ow">in</span> <span class="n">current</span> <span class="n">osx</span><span class="o">-</span><span class="mi">64</span> <span class="n">channels</span><span class="p">:</span>
<span class="o">-</span> <span class="n">cx_freeze</span>

<span class="n">You</span> <span class="n">can</span> <span class="n">search</span> <span class="k">for</span> <span class="n">packages</span> <span class="n">on</span> <span class="n">anaconda</span><span class="o">.</span><span class="n">org</span> <span class="k">with</span>

  <span class="n">anaconda</span> <span class="n">search</span> <span class="o">-</span><span class="n">t</span> <span class="n">conda</span> <span class="n">cx_freeze</span>
</pre></div>
</div>
<p>This is telling us that <code class="docutils literal"><span class="pre">cx_freeze</span></code> cannot be found, at least not in the <em>default</em> package channels. However there may be a community-created version available and if so we can search for it using exactly the command that is listed above.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ anaconda search -t conda cx_freeze
Using Anaconda Cloud api site https://api.anaconda.org
Run <span class="s1">&#39;anaconda show &lt;USER/PACKAGE&gt;&#39;</span> to get more details:
Packages:
     Name                      <span class="p">|</span>  Version <span class="p">|</span> Package Types   <span class="p">|</span> Platforms
     ------------------------- <span class="p">|</span>   ------ <span class="p">|</span> --------------- <span class="p">|</span> ---------------
     inso/cx_freeze            <span class="p">|</span>    4.3.3 <span class="p">|</span> conda           <span class="p">|</span> linux-64
     pyzo/cx_freeze            <span class="p">|</span>    4.3.3 <span class="p">|</span> conda           <span class="p">|</span> linux-64, win-32, win-64, linux-32, osx-64
                                          : http://cx-freeze.sourceforge.net/
     silg2/cx_freeze           <span class="p">|</span>    4.3.4 <span class="p">|</span> conda           <span class="p">|</span> linux-64
                                          : create standalone executables from Python scripts
     takluyver/cx_freeze       <span class="p">|</span>    4.3.3 <span class="p">|</span> conda           <span class="p">|</span> linux-64
Found <span class="m">4</span> packages
</pre></div>
</div>
<p>In this example, there are four different places we <strong>could</strong> try using to get
it. None of them are officially supported or endorsed by Continuum, but
members of the conda community have provided many valuable packages. If we
want to go with public opinion then <a class="reference external" href="https://anaconda.org/search?q=cx_freeze">the web interface</a> provides more information:</p>
<div class="figure">
<img alt="cx_freeze packages on anaconda.org" src="_images/package-popularity.png" />
</div>
<p>Notice that the <code class="docutils literal"><span class="pre">pyzo</span></code> organization has by far the most downloads, so you might
choose to use their package. If so, you can add their organization&#8217;s channel
by specifying it on the command line (as shown below):</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ conda create -c pyzo -n cxfreeze_py34 cx_freeze <span class="nv">python</span><span class="o">=</span>3.4
Using Anaconda Cloud api site https://api.anaconda.org
Fetching package metadata: ..........
Solving package specifications: .........

Package plan <span class="k">for</span> installation in environment /Users/ijstokes/anaconda/envs/cxfreeze_py34:

The following packages will be downloaded:

    package                    <span class="p">|</span>            build
    ---------------------------<span class="p">|</span>-----------------
    cx_freeze-4.3.3            <span class="p">|</span>           py34_4         1.8 MB
    setuptools-20.7.0          <span class="p">|</span>           py34_0         <span class="m">459</span> KB
    ------------------------------------------------------------
                                           Total:         2.3 MB

The following NEW packages will be INSTALLED:

    cx_freeze:  4.3.3-py34_4
    openssl:    1.0.2h-0
    pip:        8.1.1-py34_1
    python:     3.4.4-0
    readline:   6.2-2
    setuptools: 20.7.0-py34_0
    sqlite:     3.9.2-0
    tk:         8.5.18-0
    wheel:      0.29.0-py34_0
    xz:         5.0.5-1
    zlib:       1.2.8-0
</pre></div>
</div>
<p>Now you have a software environment sandbox created with Python 3.4 and
<code class="docutils literal"><span class="pre">cx_freeze</span></code>.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="help/support.html" class="btn btn-neutral float-right" title="Support options" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="winxp-proxy.html" class="btn btn-neutral" title="Windows XP with proxy configuration" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Continuum Analytics.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:' ',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-11', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>