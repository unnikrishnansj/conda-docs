

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using Microsoft R Open with conda &mdash; Conda   documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Conda   documentation" href="../../index.html"/>
        <link rel="up" title="Tasks" href="index.html"/>
        <link rel="next" title="Using conda with Travis CI" href="use-conda-with-travis-ci.html"/>
        <link rel="prev" title="Using R with conda" href="use-r-with-conda.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Conda
          

          
          </a>

          
            
            
              <div class="version">
                 
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">User guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts.html">Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started.html">Getting started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install/index.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Tasks</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="manage-conda.html">Managing conda</a></li>
<li class="toctree-l3"><a class="reference internal" href="manage-environments.html">Managing environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="manage-channels.html">Managing channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="create-custom-channels.html">Creating custom channels</a></li>
<li class="toctree-l3"><a class="reference internal" href="manage-pkgs.html">Managing packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="build-packages/index.html">Building packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="manage-python.html">Managing Python</a></li>
<li class="toctree-l3"><a class="reference internal" href="use-r-with-conda.html">Using R with conda</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Using Microsoft R Open with conda</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supported-operating-systems">Supported operating systems</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-mro-and-other-r-language-packages">Installing MRO and other R language packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-mro-or-r-language-packages">Using MRO or R language packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#installing-the-intel-math-kernel-library-mkl-with-mro">Installing the Intel Math Kernel Library (MKL) with MRO</a></li>
<li class="toctree-l4"><a class="reference internal" href="#more-information">More information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="use-conda-with-travis-ci.html">Using conda with Travis CI</a></li>
<li class="toctree-l3"><a class="reference internal" href="view-command-line-help.html">Viewing command-line help</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../cheatsheet.html">Cheat sheet</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../help-support.html">Help and support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../commands.html">Command reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../license.html">Conda license</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Conda</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">User guide</a> &raquo;</li>
        
          <li><a href="index.html">Tasks</a> &raquo;</li>
        
      <li>Using Microsoft R Open with conda</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/conda/conda-docs/blob/master/docs/source/user-guide/tasks/use-mro-with-conda.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-microsoft-r-open-with-conda">
<h1>Using Microsoft R Open with conda<a class="headerlink" href="#using-microsoft-r-open-with-conda" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#supported-operating-systems" id="id1">Supported operating systems</a></li>
<li><a class="reference internal" href="#installing-mro-and-other-r-language-packages" id="id2">Installing MRO and other R language packages</a></li>
<li><a class="reference internal" href="#using-mro-or-r-language-packages" id="id3">Using MRO or R language packages</a></li>
<li><a class="reference internal" href="#installing-the-intel-math-kernel-library-mkl-with-mro" id="id4">Installing the Intel Math Kernel Library (MKL) with MRO</a></li>
<li><a class="reference internal" href="#more-information" id="id5">More information</a></li>
</ul>
</div>
<p>You can easily use conda to install the <a class="reference external" href="https://mran.revolutionanalytics.com/download/mro-for-mrs/">Microsoft R Open (MRO)</a>
distribution of the R language. The MRO R language package and
many more are available from the <a class="reference external" href="https://anaconda.org/mro/packages/">Anaconda Cloud channel named
MRO</a>.</p>
<div class="section" id="supported-operating-systems">
<h2><a class="toc-backref" href="#id1">Supported operating systems</a><a class="headerlink" href="#supported-operating-systems" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>64-bit systems only for all operating systems—Windows, macOS
and Linux.</li>
<li>Windows 7.0 SP1, Windows 8.1, Windows 10, Windows Server 2008
R2 SP1 and Windows Server 2012.</li>
<li>macOS—Mavericks (10.9), Yosemite (10.10) and El Capitan
(10.11).</li>
<li>Linux—CentOS, Red Hat Enterprise Linux, Debian and Ubuntu.</li>
</ul>
</div>
<div class="section" id="installing-mro-and-other-r-language-packages">
<h2><a class="toc-backref" href="#id2">Installing MRO and other R language packages</a><a class="headerlink" href="#installing-mro-and-other-r-language-packages" title="Permalink to this headline">¶</a></h2>
<p>You can install MRO and other R language packages several ways:</p>
<ul class="simple">
<li>Add the MRO channel to your <a class="reference internal" href="../configuration/use-condarc.html"><span class="doc">.condarc configuration file</span></a> above the R
channel, and then use <code class="docutils literal"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">r</span></code>. Use conda to install
other packages.</li>
<li>Specify the MRO channel on the command line each time you use
the <code class="docutils literal"><span class="pre">conda</span> <span class="pre">install</span></code> command: <code class="docutils literal"><span class="pre">conda</span> <span class="pre">install</span> <span class="pre">-c</span> <span class="pre">mro</span> <span class="pre">r</span></code>.</li>
<li>Install R packages from the Comprehensive R Archive Network
(CRAN) or the Microsoft R Application Network (MRAN). These R
packages install into the currently active conda environment.
MRO includes the <a class="reference external" href="https://github.com/RevolutionAnalytics/checkpoint/">checkpoint package</a>, which
installs from MRAN and is designed to offer enhanced
<a class="reference external" href="https://mran.revolutionanalytics.com/documents/rro/reproducibility/">reproducibility</a>.</li>
</ul>
</div>
<div class="section" id="using-mro-or-r-language-packages">
<h2><a class="toc-backref" href="#id3">Using MRO or R language packages</a><a class="headerlink" href="#using-mro-or-r-language-packages" title="Permalink to this headline">¶</a></h2>
<p>To use MRO or R language packages, first activate the conda
environment where they are installed to set your environment
variables properly.</p>
<p>NOTE: Errors may result if you try to execute a program at the
path name in that environment without first activating the
environment.</p>
<p>Each conda environment may have packages installed from the
channel “r” or the channel “mro,” but no conda environment should
contain packages from both channels. Doing so may result in
errors.</p>
<p>Handle these errors in one of the following ways:</p>
<ul class="simple">
<li>Use the command <code class="docutils literal"><span class="pre">conda</span> <span class="pre">remove</span></code> to remove the packages that
were installed incorrectly.</li>
<li>Create a new environment, and then install the correct packages
there.</li>
</ul>
</div>
<div class="section" id="installing-the-intel-math-kernel-library-mkl-with-mro">
<h2><a class="toc-backref" href="#id4">Installing the Intel Math Kernel Library (MKL) with MRO</a><a class="headerlink" href="#installing-the-intel-math-kernel-library-mkl-with-mro" title="Permalink to this headline">¶</a></h2>
<p>The Intel Math Kernel Library (MKL) extensions are available for
MRO on Windows and Linux, while the Accelerate library is used
instead on macOS.</p>
<p>To install MKL, <a class="reference external" href="https://mran.revolutionanalytics.com/download/">download the MKL package for your platform</a>, and then
install it according to the instructions below for
<a class="reference internal" href="#win-mkl"><span class="std std-ref">Windows</span></a> or <a class="reference internal" href="#linux-mkl"><span class="std std-ref">Linux</span></a>.</p>
<p>NOTE: By using our install process, you are certifying that you
have agreed to the <a class="reference external" href="https://mran.revolutionanalytics.com/assets/text/mkl-eula.txt">MKL license</a>.
Proceeding further is an implicit agreement to this license.</p>
<ul>
<li><p class="first">When MKL is not installed, each time the R interpreter starts
it displays a message such as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>No performance acceleration libraries were detected.
To take advantage of the available processing power,
also install MKL for MRO 3.2.3. Visit
http://go.microsoft.com/fwlink/?LinkID=698301 for more details.
</pre></div>
</div>
</li>
<li><p class="first">When the MKL extensions are properly installed, each time the R
interpreter starts it displays a message such as:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Multithreaded</span> <span class="n">BLAS</span><span class="o">/</span><span class="n">LAPACK</span> <span class="n">libraries</span> <span class="n">detected</span><span class="o">.</span>
</pre></div>
</div>
<p>NOTE: BLAS/LAPACK libraries such as MKL are implementations of
the Basic Linear Algebra Subprograms specification of the
LAPACK Linear Algebra PACKage.</p>
</li>
</ul>
<div class="section" id="installing-windows-mkl">
<span id="win-mkl"></span><h3>Installing Windows MKL<a class="headerlink" href="#installing-windows-mkl" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Download the proper MKL installer file.</p>
</li>
<li><p class="first">Find the directory where the R language is located. It is a
directory called <code class="docutils literal"><span class="pre">R</span></code> in one of the following locations:</p>
<ul class="simple">
<li>The current user’s home directory.</li>
<li>The <code class="docutils literal"><span class="pre">Anaconda</span></code> or <code class="docutils literal"><span class="pre">Miniconda</span></code> directory.</li>
<li>The <code class="docutils literal"><span class="pre">environments</span></code> directory.</li>
<li>The directory for the current environment.</li>
</ul>
<p>EXAMPLE: An Anaconda user on Windows 8 with the user name
<code class="docutils literal"><span class="pre">jsmith</span></code> and an environment named <code class="docutils literal"><span class="pre">my_r_env</span></code> might find
<code class="docutils literal"><span class="pre">C:\Users\jsmith\Anaconda\envs\my_r_env\R</span></code>.</p>
</li>
<li><p class="first">Run the installer.</p>
</li>
<li><p class="first">When prompted to “Enter a path to MRO,” enter the path.</p>
</li>
</ol>
<p>Starting the R language interpreter now displays the message
showing that MKL is enabled.</p>
<p>If you wish to uninstall MKL on Windows and continue using the R
language, uninstall MKL from the Windows Control Panel.</p>
</div>
<div class="section" id="installing-linux-mkl">
<span id="linux-mkl"></span><h3>Installing Linux MKL<a class="headerlink" href="#installing-linux-mkl" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Download and extract the proper MKL package to a temporary
folder with a name such as <code class="docutils literal"><span class="pre">$REVOMATH</span></code>.</p>
</li>
<li><p class="first">Find the <code class="docutils literal"><span class="pre">R</span></code> directory. The path has the form:
<code class="docutils literal"><span class="pre">/path/to/anaconda/envs/&lt;r</span> <span class="pre">environment&gt;</span></code>.</p>
<p>In the remaining steps, the path to the <code class="docutils literal"><span class="pre">R</span></code> directory is
represented by $PREFIX.</p>
</li>
<li><p class="first">Ensure that you have write permissions to $PREFIX.</p>
</li>
<li><p class="first">Make backups of <code class="docutils literal"><span class="pre">$PREFIX/lib/R/lib/libRblas.so</span></code> and
<code class="docutils literal"><span class="pre">$PREFIX/lib/R/lib/libRlapack.so</span></code>.</p>
</li>
<li><p class="first">Copy all of the <code class="docutils literal"><span class="pre">.so</span></code> files from <code class="docutils literal"><span class="pre">$REVOMATH/mkl/libs/*.so</span></code>
to <code class="docutils literal"><span class="pre">$PREFIX/lib/R/lib</span></code>. This may prompt you to overwrite
<code class="docutils literal"><span class="pre">libRblas.so</span></code> and <code class="docutils literal"><span class="pre">libRlapack.so</span></code>.</p>
</li>
<li><p class="first">Edit <code class="docutils literal"><span class="pre">$PREFIX/lib/R/etc/Rprofile.site</span></code> to add the following
2 lines to the top:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Sys</span><span class="o">.</span><span class="n">setenv</span><span class="p">(</span><span class="s2">&quot;MKL_INTERFACE_LAYER&quot;</span><span class="o">=</span><span class="s2">&quot;GNU,LP64&quot;</span><span class="p">)</span>
<span class="n">Sys</span><span class="o">.</span><span class="n">setenv</span><span class="p">(</span><span class="s2">&quot;MKL_THREADING_LAYER&quot;</span><span class="o">=</span><span class="s2">&quot;GNU&quot;</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">Run this command:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>R CMD INSTALL $REVOMATH/RevoUtilsMath.tar.gz
</pre></div>
</div>
</li>
</ol>
</div>
</div>
<div class="section" id="more-information">
<h2><a class="toc-backref" href="#id5">More information</a><a class="headerlink" href="#more-information" title="Permalink to this headline">¶</a></h2>
<p>For community help on using conda with MRO, join the <a class="reference external" href="https://groups.google.com/a/continuum.io/forum/#!forum/conda">conda</a>
email group.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="use-conda-with-travis-ci.html" class="btn btn-neutral float-right" title="Using conda with Travis CI" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="use-r-with-conda.html" class="btn btn-neutral" title="Using R with conda" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Continuum Analytics.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:' ',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
 
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-11', 'auto');
  ga('send', 'pageview');

</script>


</body>
</html>